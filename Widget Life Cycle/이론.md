## StatelessWidget 라이프 사이클
: 위젯이 화면에 나타나는 순간부터 화면에서 사라지는 순간까지 어떤 일들이 일어나는지를 정의해놓은 것

<img src="https://github.com/user-attachments/assets/9c073dd4-3e63-43e0-866f-b69f77bd8563" width="450" alt="Simulator Screenshot" style="text-align:center;">

- statelessWidget일 때 생성자가 처음 실행되고(Constructor), 그 다음에 빌드함수를 싱행해서 해당 statelessWidget의 빌드함수 안에 있는 위젯들이 화면에 보이게 됨

```dart
class CodeFactoryWidget extends StatelessWidget {
  CodeFactoryWidget({super.key}) {
    print('-- 생성자 --');
  }

  @override
  Widget build(BuildContext context) {
    print('-- 빌드 --');

    return Container(
      width: 50.0,
      height: 50.0,
      color: Colors.red,
    );
  }
}
```
- 위 코드로 print시, 콘솔에 생성자 -> 빌드 순으로 출력되는 것 확인할 수 있음



## StatefulWidget 라이프 사이클
- StatefulWidget 클래스 순서

  1. Constructor() : 생성자가 무조건 먼저 실행됨
  2. createState() : 무조건 createState 라는 함수를 정의함(단순히 state클래스를 생성함)

- state 클래스 순서

  3. initState() : state 클래스가 인스턴스화 됐을 때 딱 한번만 실행
  4. didChangeDependencies() : initState 뒤에 실행되기도 하지만 이후에 여러번 다시 실행될 수 있음, 컨텍스트 제공을 해줌
  5. dirty : state 클래스의 상태를 말함. build가 실행되기 전의 상태
  6. build() : 화면에 보여지는 위젯들
  7. clean : state 클래스의 상태를 말함. build가 실행된 후의 상태
  8. deactivate() : state가 삭제되면(화면에서 지워지면) 실행
  9. dispose()

- 1~7 까지는 모든 statefulwidget이 동일함. 추가로
  <br>
  clean 단계 이후 setState() : 빌드함수를 다시 실행. 이 state 클래스를 dirty 상태로 만든 후 build, clean상태로 이어짐


## statefulwidget 실습
- list 안에서만 사용가능한 독특한 if문법
```dart
body: SizedBox(
        width: double.infinity,
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            if(show) CodeFactoryWidget(),   //이 조건이 true면 바로 뒤 widget이 보이고, false면 안보임(바로 다음에 오는 위젯 1개만 해당)
          ],
        ),
      ),
```
<br>

- state 클래스를 dirty로 바꾸지 않으면 build함수는 실행되지 않으므로 setState 넣어주기
```dart
return Scaffold(
      body: SizedBox(
        width: double.infinity,
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            if(show) CodeFactoryWidget(),
            SizedBox(height: 32),
            ElevatedButton(
                onPressed: (){
                  setState(() {   //상태를 dirty로 변경
                    show = !show;
                  });
                },
                child: Text('클릭해서 보이기/안보이기'),
            ),
          ],
        ),
      ),
    );
```
<br>

- 라이프사이클 순서 확인하기
```dart
class CodeFactoryWidget extends StatefulWidget {
  CodeFactoryWidget({super.key}) {
    print('1)Stateful Widget Constructor');
  }

  @override
  State<CodeFactoryWidget> createState() {
    print('2)Stateful Widget Create State');

    return _CodeFactoryWidgetState();
  }
}

class _CodeFactoryWidgetState extends State<CodeFactoryWidget> {
  @override
  void initState() {
    print('3)Stateful Widget initState');
    super.initState();
  }

  @override
  void didChangeDependencies() {
    print('4)Stateful Widget didChangeDependencies');
    super.didChangeDependencies();
  }

  @override
  Widget build(BuildContext context) {
    print('5)Stateful Widget build');

    return Container(
      color: Colors.red,
      width: 50,
      height: 50,
    );
  }

  @override
  void deactivate() {
    print('6)Stateful Widget deactivate');
    super.deactivate();
  }

  @override
  void dispose() {
    print('7)Stateful Widget dispose');
    super.dispose();
  }
}
```